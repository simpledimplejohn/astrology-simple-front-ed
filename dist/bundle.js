document.getElementById("astrologyForm").addEventListener("submit",(async e=>{e.preventDefault(),document.getElementById("name").value;const t=document.getElementById("birthdate").value,n=document.getElementById("birthtime").value,a=document.getElementById("latitude").value,o=document.getElementById("longitude").value,r={year:new Date(t).getFullYear(),month:new Date(t).getMonth()+1,date:new Date(t).getDate(),hours:parseInt(n.slice(0,2)),minutes:parseInt(n.slice(3,5)),latitude:parseFloat(a),longitude:parseFloat(o),timezone:-8,settings:{observation_point:"topocentric",ayanamsha:"lahiri"}};try{const e=await fetch("/api/planets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.API_KEY}`},body:JSON.stringify(r)});if(!e.ok)throw new Error("Network request potato failed");const t=await e.json();document.getElementById("resultContainer").innerHTML=JSON.stringify(t,null,2)}catch(e){console.error("Error",e)}}));